<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ƒêang Chuy·ªÉn H∆∞·ªõng An To√†n... | MDVH18</title>
    <style>
        body { background: #0f0c29; color: white; font-family: 'Segoe UI', sans-serif; display: flex; align-items: center; justify-content: center; height: 100vh; margin: 0; overflow: hidden; }
        .box { text-align: center; background: rgba(255, 255, 255, 0.05); padding: 40px; border-radius: 20px; backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 0 30px rgba(215, 155, 187, 0.2); max-width: 400px; width: 90%; }
        .loader { border: 4px solid rgba(255,255,255,0.1); border-top: 4px solid #f78f90; border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; margin: 0 auto 20px; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        #timer { font-size: 3em; color: #d79bbb; font-weight: bold; margin: 10px 0; }
        .btn-manual { display: none; background: #f78f90; color: white; text-decoration: none; padding: 12px 25px; border-radius: 30px; font-weight: bold; margin-top: 20px; transition: 0.3s; }
        .btn-manual:hover { background: #fff; color: #f78f90; box-shadow: 0 0 15px #f78f90; }
        
        /* Toast th√¥ng b√°o Pixeldrain */
        #pixeldrain-toast { position: fixed; bottom: 30px; right: 30px; background: #1a1131; color: #fff; padding: 20px; border: 2px solid #f78f90; border-radius: 15px; box-shadow: 0 15px 40px rgba(0,0,0,0.6); z-index: 10000; font-family: "Segoe UI", sans-serif; max-width: 320px; animation: slideIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        @keyframes slideIn { from { transform: translateX(120%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
    </style>
</head>
<body>
    <div class="box" id="main-box">
        <div class="loader"></div>
        <h3>H·ªÜ TH·ªêNG ƒêANG KI·ªÇM TRA</h3>
        <p>Vui l√≤ng ch·ªù trong gi√¢y l√°t ƒë·ªÉ l·∫•y li√™n k·∫øt t·∫£i game an to√†n.</p>
        <div id="timer">4</div>
        <a id="manual-link" class="btn-manual" href="#">NH·∫§N V√ÄO ƒê√ÇY N·∫æU KH√îNG T·ª∞ CHUY·ªÇN</a>
    </div>

    <script>
        (function() {
            const urlParams = new URLSearchParams(window.location.search);
            const encoded = urlParams.get('url');
            const timerEl = document.getElementById('timer');
            const manualBtn = document.getElementById('manual-link');
            const boxEl = document.getElementById('main-box');
            
            let targetUrl = "";

            if (encoded) {
                try {
                    // 1. Gi·∫£i m√£ Base64
                    targetUrl = atob(encoded);

                    // 2. X·ª¨ L√ù FIX LINK C≈®: N·∫øu link ch·ª©a /mdvh18/ th√¨ x√≥a n√≥ ƒëi
                    // V√≠ d·ª•: https://mdvh18.github.io/mdvh18/game.html -> https://mdvh18.github.io/game.html
                    if (targetUrl.includes('mdvh18.github.io/mdvh18/')) {
                        targetUrl = targetUrl.replace('mdvh18.github.io/mdvh18/', 'mdvh18.github.io/');
                        console.log("ƒê√£ fix link c≈© cho bro!");
                    }

                    // 3. Ki·ªÉm tra Pixeldrain ƒë·ªÉ hi·ªán Toast
                    if (targetUrl.includes('pixeldrain.com')) {
                        showPixeldrainFAQ();
                    }

                    // 4. Ch·∫°y ƒë·∫øm ng∆∞·ª£c
                    let timeLeft = 4;
                    const countdown = setInterval(() => {
                        timeLeft--;
                        timerEl.innerText = timeLeft;
                        if (timeLeft <= 0) {
                            clearInterval(countdown);
                            window.location.href = targetUrl;
                            manualBtn.style.display = 'inline-block';
                            manualBtn.href = targetUrl;
                        }
                    }, 1000);

                } catch (e) {
                    boxEl.innerHTML = "<h3>L·ªñI GI·∫¢I M√É</h3><p>D·ªØ li·ªáu link kh√¥ng ƒë√∫ng ƒë·ªãnh d·∫°ng.</p>";
                }
            } else {
                boxEl.innerHTML = "<h3>L·ªñI ƒê∆Ø·ªúNG D·∫™N</h3><p>Kh√¥ng t√¨m th·∫•y li√™n k·∫øt y√™u c·∫ßu.</p>";
            }

            function showPixeldrainFAQ() {
                const toast = document.createElement('div');
                toast.id = 'pixeldrain-toast';
                toast.innerHTML = `
                    <div style="display:flex; align-items:center; margin-bottom:12px;">
                        <span style="font-size:24px; margin-right:10px;">üöÄ</span>
                        <strong style="color:#f78f90; font-size:16px;">Ph√°t hi·ªán Pixeldrain!</strong>
                    </div>
                    <p style="font-size:14px; line-height:1.5; margin-bottom:15px; color:#e0e0e0;">Link n√†y c√≥ gi·ªõi h·∫°n 6GB/ng√†y. Bro nh·ªõ xem FAQ ƒë·ªÉ bi·∫øt m·∫πo t·∫£i kh√¥ng gi·ªõi h·∫°n nh√©!</p>
                    <div style="text-align:right;">
                        <a href="https://mdvh18.blogspot.com/p/faq.html" target="_blank" style="background:#f78f90; color:#1a1131; padding:8px 15px; border-radius:20px; text-decoration:none; font-weight:bold; font-size:13px; display:inline-block;">XEM FAQ NGAY</a>
                    </div>`;
                document.body.appendChild(toast);
                
                setTimeout(() => {
                    toast.style.transform = 'translateX(120%)';
                    toast.style.transition = '0.8s ease-in';
                    setTimeout(() => toast.remove(), 800);
                }, 10000);
            }
        })();
    </script>
</body>
</html>
